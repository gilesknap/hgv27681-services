# yaml-language-server: $schema=https://github.com/epics-containers/ioc-pmac/releases/download/2025.3.1/ibek.ioc.schema.json
ioc_name: "{{ _global.get_env('IOC_NAME') }}"

description: auto-generated by https://github.com/epics-containers/builder2ibek

entities:
  - type: epics.EpicsEnvSet
    name: EPICS_TZ
    value: "GMT0BST"

  - type: epics.EpicsCaMaxArrayBytes
    max_bytes: 3000000

  - type: devIocStats.iocAdminSoft
    IOC: "{{ ioc_name | upper }}"

  - type: autosave.Autosave
    P: BL47P-MO-IOC-01

  - type: pvlogging.PvLogging

  - type: pmac.pmacAsynIPPort
    IP: 192.168.250.13:1025
    name: BRICK1port

  - type: pmac.GeoBrick
    IdlePoll: 1000
    NAXES: 4
    P: BL47P-MO-BRICK-01
    name: BRICK1
    pmacAsynPort: BRICK1port

  - type: pmac.GeoBrickTrajectoryControl
    NPOINTS: 10000
    PmacController: BRICK1

  - type: pmac.autohome
    GRP1: All
    GRP2: X
    GRP3: A
    P: BL47P-MO-MAP-01:STAGE
    PLC: 11
    PmacController: BRICK1

  - type: pmac.dls_pmac_asyn_motor
    ACCL: 0.1
    ADDR: 1
    Controller: BRICK1
    DESC: X
    DHLM: 25
    DIR: Pos
    DLLM: -25
    EGU: mm
    HLM: "25"
    LLM: "-25"
    M: :X
    MRES: -0.000125
    P: BL47P-MO-MAP-01:STAGE
    PREC: 3
    TWV: 1
    UEIP: "Yes"
    VELO: 4

  - type: pmac.dls_pmac_asyn_motor
    ACCL: 0.1
    ADDR: 2
    Controller: BRICK1
    DESC: A
    DHLM: 0
    DIR: Pos
    DLLM: 0
    EGU: mm
    HLSV: NO_ALARM
    M: :A
    MRES: 0.018
    P: BL47P-MO-MAP-01:STAGE
    PREC: 3
    TWV: 18
    UEIP: "Yes"
    VELO: 2500

  - type: pmac.CS
    CS: 1
    IdlePoll: 1000
    PmacController: BRICK1
    name: CS1

  - type: pmac.pmacDisableLimitsCheck
    Axis: 2
    Controller: BRICK1
